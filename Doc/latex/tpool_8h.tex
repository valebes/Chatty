\hypertarget{tpool_8h}{}\subsection{Riferimenti per il file tpool.\+h}
\label{tpool_8h}\index{tpool.\+h@{tpool.\+h}}


contiene funzioni per la creazione, eliminazione e gestione del threadpool  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include $<$sys/time.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$sys/select.\+h$>$}\newline
{\ttfamily \#include $<$user.\+h$>$}\newline
{\ttfamily \#include $<$task.\+h$>$}\newline
\subsubsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries C\+L\+E\+A\+N\+\_\+\+UP}(pool)
\end{DoxyCompactItemize}
\subsubsection*{Ridefinizioni di tipo (typedef)}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{tpool_8h_a1a50e6eebaabc65568f35ec2fafb8a87}\label{tpool_8h_a1a50e6eebaabc65568f35ec2fafb8a87}} 
typedef struct \mbox{\hyperlink{struct__t__pool}{\+\_\+t\+\_\+pool}} {\bfseries t\+\_\+pool}
\end{DoxyCompactItemize}
\subsubsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct__t__pool}{t\+\_\+pool}} $\ast$ \mbox{\hyperlink{tpool_8h_a5e98ff56b31208a0762701f2d97a4fa4}{tpool\+\_\+create}} (int nthreads, int max\+\_\+con)
\begin{DoxyCompactList}\small\item\em crea threadpool \end{DoxyCompactList}\item 
int \mbox{\hyperlink{tpool_8h_a358d0acd03f8339ce5dcc6bc8ff91922}{tpool\+\_\+add}} (\mbox{\hyperlink{struct__t__pool}{t\+\_\+pool}} $\ast$pool, int($\ast$fun)(\mbox{\hyperlink{struct__job}{job}} $\ast$), void $\ast$arg)
\begin{DoxyCompactList}\small\item\em aggiunge task \end{DoxyCompactList}\item 
int \mbox{\hyperlink{tpool_8h_a36eff49591584172a8062630e2edbae5}{tpool\+\_\+delete}} (\mbox{\hyperlink{struct__t__pool}{t\+\_\+pool}} $\ast$pool)
\begin{DoxyCompactList}\small\item\em elimina threadpool \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Descrizione dettagliata}
contiene funzioni per la creazione, eliminazione e gestione del threadpool 

\begin{DoxyAuthor}{Autore}
Valerio Besozzi 543685 Si dichiara che il contenuto di questo file e\textquotesingle{} in ogni sua parte opera originale dell\textquotesingle{}autore 
\end{DoxyAuthor}


\subsubsection{Documentazione delle definizioni}
\mbox{\Hypertarget{tpool_8h_ad6eeafa576dca29605432b7bee926736}\label{tpool_8h_ad6eeafa576dca29605432b7bee926736}} 
\index{tpool.\+h@{tpool.\+h}!C\+L\+E\+A\+N\+\_\+\+UP@{C\+L\+E\+A\+N\+\_\+\+UP}}
\index{C\+L\+E\+A\+N\+\_\+\+UP@{C\+L\+E\+A\+N\+\_\+\+UP}!tpool.\+h@{tpool.\+h}}
\paragraph{\texorpdfstring{C\+L\+E\+A\+N\+\_\+\+UP}{CLEAN\_UP}}
{\footnotesize\ttfamily \#define C\+L\+E\+A\+N\+\_\+\+UP(\begin{DoxyParamCaption}\item[{}]{pool }\end{DoxyParamCaption})}

{\bfseries Valore\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{if}(pool) \{                                \(\backslash\)
                                    tpool\_free(pool);                       \(\backslash\)
                                \}                                         \(\backslash\)
                                return NULL;                              \(\backslash\)
\end{DoxyCode}


\subsubsection{Documentazione delle funzioni}
\mbox{\Hypertarget{tpool_8h_a358d0acd03f8339ce5dcc6bc8ff91922}\label{tpool_8h_a358d0acd03f8339ce5dcc6bc8ff91922}} 
\index{tpool.\+h@{tpool.\+h}!tpool\+\_\+add@{tpool\+\_\+add}}
\index{tpool\+\_\+add@{tpool\+\_\+add}!tpool.\+h@{tpool.\+h}}
\paragraph{\texorpdfstring{tpool\+\_\+add()}{tpool\_add()}}
{\footnotesize\ttfamily int tpool\+\_\+add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__t__pool}{t\+\_\+pool}} $\ast$}]{pool,  }\item[{int($\ast$)(\mbox{\hyperlink{struct__job}{job}} $\ast$)}]{fun,  }\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



aggiunge task 

tpool\+\_\+add 
\begin{DoxyParams}{Parametri}
{\em pool} & puntatore alla struttura t\+\_\+pool in cui aggiungere task \\
\hline
{\em ($\ast$fun)(job} & $\ast$) funzione da chiamare \\
\hline
{\em arg} & argomento per la funzione da chiamare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
0 se il task e\textquotesingle{} stato aggiunto correttamente, -\/1 altrimenti 
\end{DoxyReturn}
\mbox{\Hypertarget{tpool_8h_a5e98ff56b31208a0762701f2d97a4fa4}\label{tpool_8h_a5e98ff56b31208a0762701f2d97a4fa4}} 
\index{tpool.\+h@{tpool.\+h}!tpool\+\_\+create@{tpool\+\_\+create}}
\index{tpool\+\_\+create@{tpool\+\_\+create}!tpool.\+h@{tpool.\+h}}
\paragraph{\texorpdfstring{tpool\+\_\+create()}{tpool\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct__t__pool}{t\+\_\+pool}}$\ast$ tpool\+\_\+create (\begin{DoxyParamCaption}\item[{int}]{nthreads,  }\item[{int}]{max\+\_\+con }\end{DoxyParamCaption})}



crea threadpool 

tpool\+\_\+create 
\begin{DoxyParams}{Parametri}
{\em nthreads} & numero thread da creare \\
\hline
{\em max\+\_\+con} & numero massimo connessioni \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
puntatore alla struttura t\+\_\+pool creata 
\end{DoxyReturn}
\mbox{\Hypertarget{tpool_8h_a36eff49591584172a8062630e2edbae5}\label{tpool_8h_a36eff49591584172a8062630e2edbae5}} 
\index{tpool.\+h@{tpool.\+h}!tpool\+\_\+delete@{tpool\+\_\+delete}}
\index{tpool\+\_\+delete@{tpool\+\_\+delete}!tpool.\+h@{tpool.\+h}}
\paragraph{\texorpdfstring{tpool\+\_\+delete()}{tpool\_delete()}}
{\footnotesize\ttfamily int tpool\+\_\+delete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__t__pool}{t\+\_\+pool}} $\ast$}]{pool }\end{DoxyParamCaption})}



elimina threadpool 

tpool\+\_\+delete 
\begin{DoxyParams}{Parametri}
{\em pool} & puntatore alla struttura t\+\_\+pool da eliminare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
0 se il threadpool e\textquotesingle{} stato eliminato, -\/1 altrimenti 
\end{DoxyReturn}
